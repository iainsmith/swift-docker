# swift-docker

Test your swift package is Linux compatible using one command. `swift docker test`

<img src="https://s3.eu-west-2.amazonaws.com/iainpublicgifs/swift-docker-small.gif" width="500">

## Install swift-docker
```sh
brew tap iainsmith/formulae
brew install swift-docker
```
<details>
<summary>
or from source
</summary>
<pre>
> git clone https://github.com/iainsmith/swift-docker.git
> cd swift-docker
> swift build -c release -Xswiftc -static-stdlib
# copy the binary to somewhere in your path. 
> cp ./.build/x86_64-apple-macosx10.10/release/swift-docker ~/bin
</pre>
</details>
</br>

<details>
<summary>
And install docker if you don't have it already
</summary>

* Download the [Docker Mac App](https://www.docker.com/docker-mac).
* Alternatively install via homebrew `brew install docker`
</details>

## Usage

Run the Tests

```sh
# Against the latest version of swift
swift docker test

# Against a swift version
swift docker test --swift 4.0

# Using a specific image
swift docker test --image ibmcom/swift-ubuntu:4.1

# Run tests and save dockerfile
swift docker test --image ibmcom/swift-ubuntu:4.1 --write-dockerfile  
```

Save the default dockerfile to ./Dockerfile

```sh
swift docker write-dockerfile
```

Cleanup docker images generated by swift-docker

```
swift docker cleanup
```

## Credits

swift-docker is built on top of

* [ShellOut](https://github.com/JohnSundell/ShellOut) (from John Sundell)
* [Commander](https://github.com/kylef/commander) (from Kyle Fuller)
* [Rainbow](https://github.com/onevcat/Rainbow) (from 王巍 Wei Wang)

## Contributing

If you have suggestions for new commands, features or bug fixes. Please raise an issue or open a PR. 

If you find this tool useful in your workflow let me know on twitter [@_iains]()

